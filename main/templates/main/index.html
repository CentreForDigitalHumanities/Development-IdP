{% extends "base/app_base.html" %}

{% block content %}
    <div class="uu-hero text-bg-teal justify-content-between align-items-center">
        <h1>SAML Service Providers</h1>
        <a class="btn btn-secondary" href="{% url 'main:sp-create' %}">
            New
        </a>
    </div>
    <div class="uu-container">
        <div class="col-12">
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Entity ID</th>
                        <th>Description</th>
                        <th>Metadata URL</th>
                        <th>Active</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for sp in service_providers %}
                        <tr>
                            <td>
                                {{ sp.pretty_name }}
                            </td>
                            <td>
                                {{ sp.entity_id }}
                            </td>
                            <td>
                                {{ sp.description }}
                            </td>
                            <td>
                                <a href="{% url 'main:saml-metadata' sp.pk %}" target="_blank">
                                    Metadata
                                </a>
                            </td>
                            <td>
                                {{ sp.active|yesno }}
                            </td>
                            <td>
                                <a href="{% url 'main:sp-edit' sp.pk %}">Edit</a>
                                <a href="{% url 'main:sp-delete' sp.pk %}">Delete</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="uu-hero text-bg-teal justify-content-between align-items-center">
        <h1>Users</h1>

        <a class="btn btn-secondary" href="{% url 'main:user-create' %}">
            New
        </a>
    </div>
    <div class="uu-container">
        <div class="col-12">
            <table class="table">
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Password</th>
                        <th>Display Name</th>
                        <th>First name</th>
                        <th>Last name</th>
                        <th>Home organisation</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                        <tr>
                            <td>
                                {{ user.username }}
                            </td>
                            <td>
                                {{ user.get_password }}
                            </td>
                            <td>
                                {{ user.displayName }}
                            </td>
                            <td>
                                {{ user.givenName }}
                            </td>
                            <td>
                                {{ user.sn }}
                            </td>
                            <td>
                                {{ user.schacHomeOrganisation }}
                            </td>
                            <td>
                                <a href="{% url 'main:user-edit' user.pk %}">Edit</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
